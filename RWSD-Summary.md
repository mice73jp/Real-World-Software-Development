# Real-World Software Development - 실전 자바 소프트웨어 개발

## 1장 여행의 시작

* 전체적으로 사용하는 개념과 원칙
  * 자바 기능
  * 소프트웨어 디자인과 아키텍처
    * 문제 해결을 위한 다양한 디자인 패턴
    * 소프트웨어 개발에서 발생하는 문제는
      * 문제 유형은 틀리지만, 기존에 발생했던 문제일 확율이 높음
    * 기존 개발자들이 흔희 겪었던 문제와 해결책의 이해
      * 소프트웨어를 더 바르고 안정적으로 개발가능
    * 결합도와 응집도
    * 노티피케이션
    * 플루언트 API와 빌더 패턴
    * 이벤트 주도 아키텍쳐와 육각형 아키텍처
    * 저장소 패턴과 함수형 프로그래밍
  * Solid
    * 유지 보수를 쉽게 도와주는 설계 원칙의 집합
    * 단일 책임원칙(Single Responsibility Principle : SRP)
    * 개방/폐쇄 원칙(Open/Close Principle : OCP)
    * 리스코프 치환 원칙(Liskov Principle : LSP)
    * 인터페이스 분리 원칙(Interface Segregation Principle : ISP)
    * 의존관계 역전 원칙(Dependency Inversion Principle : DIP)
  *  테스트
    * 테스트 구현을 위한 기초방법
    * 테스트 주도 개발(Test-Driven Development : TDD)
    * Mock, Stub등의 테스트 더블(Test Duble)를 활용한 테스트

## 2장 입출금 내역 분석기

### 도전 과제 : 입출금 내역의 자동 분석

* 목표
  * 단일 책임 원칙(SRP)
    * 유지보수를 쉽게 해 준다
    * 소프트웨어의 할일에 대한 이해가 쉽게된다
    * 버그의 발생 범위가 줄어든다.
  * 개발 코드와 소프트웨어 품질유지에 유용한 2가지 특징
    * 응집도
    * 결합도
* 입출금 내역 분석기의 요구사항
  * 인터넷 벵킹의 거래 내역(CSV)을 입력받아서 분석
    * 은행 입출금 내역의 총수입과 총지출이 얼마이고 양수인가 음수인가?
      * 모든 금액의 합계
      * `class BankTransactionAnalyzerSimple01`
    * 특정 달엔 몇건의 입출금 내역이 발생했는가?
      * 특정 달에 대한 내역 건수 계산
      * `class BankTransactionAnalyzerSimple02`
    * 지출이 가장 높은 상위 10건은 무엇인가?
    * 돈을 가장 많이 소비하는 항목은 무엇인가?
  * KISS(Keep it Short and Simple)원칙
    * 복잡한 요구사항이 없으면 프로그램을 하나의 클래스로 구현
  * 정상 실행되더라도, 항상 발생할 만한 문제를 어떻게 처리할지 생각해 두는 것이 좋다.
    * 이를 생각들을 예외를 통해서 해결
    * 하지만, 이런 질문 습관을 가지는 것이 좋다!!
* 코드 유지보수성과 안티 패턴
  * 코드 만들때 코드 유지보수성을 높이기 위해 노력 필요!!
    * 특정 기능을 담당하는 코드를 쉽게 찾을 수 있다.
    * 코드가 어떤 일을 수행하는지 쉽게 이해할 수 있다.
    * 새로운 기능을 쉽게 추가하거나 기존 기능을 쉽게 제거할 수 있다.
    * 캡슐화가 잘 되어 있다.
      * 세부구현 내용이 잘 감춰져 있어, 사용자가 코드를 쉽게 이해
      * 기능을 쉽게 바꿀 수 있어야 한다.!!
  * 효율적이지 않은 해결 방법
    * 안티 패턴(anti-pattern)이라고 부른다
    * 한개의 거대한 무적 클래스(god class) 때문에 코드 이해가 어렵다
      * 이를 해결하기 위해 단일 책임 원칙을 배운다
    * 코드 중복(code duplication) 때문에 코드가 불안정하고 변화에 쉽게 망가진다.
      * 입력형식을 CSV대신 JSON으로 쉽게 바꿀 수 있는가?
      * 다른 형식의 입력은 가능한가??
      * 데이터 필드의 포맷이 바뀔 경우에 모든 코드에 손을 대어야 한다.
        * 수정이 이루어 지므로 버그가 발생할 가능성이 높다.
      * 중복 배제(Don’t Repeat Yourself : DRY)
    * 코드를 간결하게 유지하는 것은 중요하다
      * 하지만, KISS원칙을 남용하지 않아야 한다
      * 전체 코드를 보고 한 문제를 작은 개별 문제로 불리해 더 쉽게 관리할 수 있는지 파악하는 것이 중요
* 단일 책임 원칙(Single Responsibility Principle : SRP)
  * 한 클래스는 한 기능만 책임진다.
  * 클래스가 바뀌어야 하는 이유는 오직 하나여야 한다!!
  * 메일 클래스(`class BankTransactionAnalyzerSimple01`)의 책임
    1. 입력 읽기
    2. 주어진 형식의 입력 파싱
    3. 결과 처리
    4. 결과 요약 리포트
  * 2장의 집중할 부분은 2. 주어진 형식의 입력 파싱
    * 입력을 프로그램 내부의 형식으로 바꿈
    * 데이터의 위치만 전달 후, 결과로 도메인 데이터로 받음
  * 현재의 프로그램 분석
    * 프로그램의 입력, 출력, 처리가 모두 하나의 프로그램에 집약
    * 즉, 하나의 프로그램이 크게 나누어서 3개의 책임(입력, 처리, 출력)을 가짐
  * 프로그램 개선 사항
    * 단일 책임 원칙에 의해서 입력을 프로그램에서 분리
    * 입력에는 두가지 처리를 하고 있다
      * 파일의 내용을 읽어서 분리(파싱)
        * 파일 내용의 의미를 가지는 최소단위 처리
        * 최소 단위를 적절한 내부 데이터로 변환(클래스)
        * 최소 단위 처리 함수를 반복 사용한 전체 파일 내용 처리
      * 파일 내용을 내부 처리 데이터로 변환
        * 파싱시에 이루어짐
  * 리팩토링 후의 모습
    * 주 프로그램에서 파싱 부분이 사람짐
      * 다른 클래스와 메서드로 옮겨 독립적으로 만듬
      * 새 요구사항이 들어올 경우 이 클래스로 모아진 기능을 재사용해 만듬
        * 새로운 형태의 입력이 있을 경우에 같은 함수를 가진 클래스를 만듬
        * 메인에서 호출하는 부분은 바뀌지 않음(공통 함수 호출)
    * 파싱 알고리즘 개선이 필요한 경우, 해당 클래스만 개선하면 됨
    * 내부 데이터 사용으로 다른 코드가 특정 데이터 형식(문자열)에 의존 하지 않음
    * 놀람 최소화 원칙(Principle of least Surprise)
      * 메서드를 만들때 수행하는 일을 바로 알 수 있도록 자체 문서화를 제공하는 메서드 명을 사용(구체적으로 수행하는 일과 결과)
      * 코드의 다른 부분이 파라미터의 상태에 의존 할 수 있으므로 파라미터의 상태를 바꾸지 않는다.

* 응집도(cohesion)
  * 서로 어떻게 연관되어 있는지를 가리키는 것
    * 클래스나 메서드의 책임이 얼마나 강하게 연결되어 있는가를 측정
    * 소프트웨어의 복잡성을 유추하는데 도움
  * 높은 응집도는 개발자의 목표
  * 서로 기능상으로 연관된 것들을 한곳에 모아둔다는 의미
    * 낮다는 말은 서로 연관성이 적은 메서드를 모아 두었다는 것
  * 메인 클래스는 프로그램에서 다양한 부분의 연결하는 역할
    * 이곳에 계산을 담당하는 정적 메서드를 놓아두는 것은 응집도가 낮다는 증거
  * 계산만 전적으로 담당하는 클래스를 만들어 계산 메서드를 모아둠





## 3장 입출금 내역 분서기 확장판

## 4장 문서 관리 시스템

## 5장 비즈니스 규칙 엔진

## 6장 트우터

## 7장 트우터 확장판

## 8장 결론

